<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

<script>
Papa.parse('../datasets/Ecosystem.csv', {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: (results) => {
        const data = results.data;

        // Summary counts
        const countries = new Set(data.map(d => d.Country)).size;
        const startups = data.filter(d => d.Type === "Startup").length;
        const research = data.filter(d => d.Type === "Research").length;
        const investors = data.filter(d => d.Type === "Investor").length;

        document.getElementById("totalCountries").textContent = countries;
        document.getElementById("totalStartups").textContent = startups;
        document.getElementById("totalResearch").textContent = research;
        document.getElementById("totalInvestors").textContent = investors;

        // List of organizations
        const list = document.getElementById("ecosystemList");
        data.forEach(item => {
            const li = document.createElement("li");
            li.textContent = `${item.Name} â€“ ${item.Type} (${item.Country})`;
            list.appendChild(li);
        });
    }
});
</script>
