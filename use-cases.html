<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Use Cases â€“ Open Data Africa</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <style>
    .hero {
      background-color: #f4f4f4;
      padding: 3rem 1rem;
      text-align: center;
      border-bottom: 1px solid #ddd;
    }

    .hero h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    .hero p {
      font-size: 1.1rem;
      max-width: 700px;
      margin: 0 auto;
      color: #555;
    }

    .filters {
      margin: 2rem auto;
      display: flex;
      flex-direction: column;
      gap: 16px;
      align-items: center;
      max-width: 800px;
      padding: 0 1rem;
    }

    .filters input {
      padding: 12px;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      width: 100%;
      max-width: 600px;
    }

    .filter-selects {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
      width: 100%;
    }

    .filter-selects select {
      padding: 10px;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      min-width: 200px;
      flex: 1;
      max-width: 300px;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-bottom: 3rem;
      padding: 0 1rem;
    }

    .card {
      background: #ffffff;
      border: 1px solid #ddd;
      border-left: 5px solid #aa0000;
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .card h3 {
      margin-top: 0;
    }

    footer {
      text-align: center;
      padding: 1.5rem 0;
      border-top: 1px solid #ddd;
      font-size: 0.9rem;
      color: #666;
      background-color: #f9f9f9;
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <nav>
    <ul class="nav-list">
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="datasets.html">Datasets</a></li>
      <li><a href="use-cases.html" aria-current="page">Use Cases</a></li>
      <li><a href="resources.html">Resources</a></li>
      <li><a href="contribute.html">Contribute</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>

<!-- Hero Section -->
<section class="hero">
  <h1>Explore Use Cases</h1>
  <p>
    Dive into a comprehensive collection of real-world examples showcasing how open data is transforming domains and communities across Africa. From boosting agricultural productivity and enhancing healthcare delivery to fostering smart city initiatives and advancing artificial intelligence research, these use cases illustrate the powerful impact of data transparency and accessibility. Use the search function or apply filters by domain or country to quickly find case studies that inspire innovation and demonstrate the practical benefits of open data in your area of interest.
  </p>
</section>
<style>
  .hero p {
    text-align: justify;
  }
</style>
  <main class="wrapper">

    <!-- Filters -->
    <div class="filters">
      <input type="text" id="searchInput" placeholder="ðŸ” Search use cases by keywords..." />
      <div class="filter-selects">
        <select id="domainFilter">
          <option value="">All Domains</option>
        </select>
        <select id="countryFilter">
          <option value="">All Countries</option>
        </select>
      </div>
    </div>

    <!-- Cards -->
    <div id="useCasesContainer" class="card-grid">
      <!-- Cards will be dynamically inserted here -->
    </div>
  </main>

  <footer>
    &copy; 2025 Open Data Africa. All rights reserved.
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      Papa.parse("datasets/catalog.csv", {
        download: true,
        header: true,
        complete: function (results) {
          const data = results.data;

          const domainSet = new Set();
          const countrySet = new Set();

          data.forEach(row => {
            if (row.Domain) domainSet.add(row.Domain.trim());
            if (row.Country) countrySet.add(row.Country.trim());
          });

          const domainFilter = document.getElementById("domainFilter");
          const countryFilter = document.getElementById("countryFilter");

          [...domainSet].sort().forEach(domain => {
            domainFilter.innerHTML += `<option value="${domain}">${domain}</option>`;
          });

          [...countrySet].sort().forEach(country => {
            countryFilter.innerHTML += `<option value="${country}">${country}</option>`;
          });

          function renderCards(filterText = "", domain = "", country = "") {
            const container = document.getElementById("useCasesContainer");
            container.innerHTML = "";

            data.forEach(row => {
              const matchesSearch = row["Use Cases"]?.toLowerCase().includes(filterText.toLowerCase());
              const matchesDomain = !domain || row.Domain === domain;
              const matchesCountry = !country || row.Country === country;

              if (matchesSearch && matchesDomain && matchesCountry) {
                const card = document.createElement("div");
                card.className = "card";
                card.innerHTML = `
                  <h3>${row["Dataset Name"] || "Unnamed Dataset"}</h3>
                  <p><strong>Use Case:</strong> ${row["Use Cases"] || "N/A"}</p>
                  <p><strong>Domain:</strong> ${row.Domain || "N/A"}</p>
                  <p><strong>Country:</strong> ${row.Country || "N/A"}</p>
                  <p><strong>Data Type:</strong> ${row["Data Type"] || "N/A"}</p>
                  <p><strong>Access:</strong> ${row["License"] || "N/A"}</p>
                `;
                container.appendChild(card);
              }
            });
          }

          renderCards();

          document.getElementById("searchInput").addEventListener("input", e => {
            renderCards(e.target.value, domainFilter.value, countryFilter.value);
          });

          domainFilter.addEventListener("change", () => {
            renderCards(searchInput.value, domainFilter.value, countryFilter.value);
          });

          countryFilter.addEventListener("change", () => {
            renderCards(searchInput.value, domainFilter.value, countryFilter.value);
          });
        }
      });
    });
  </script>

</body>
</html>
