<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>African AI Ecosystem Directory</title>

<style>
  body { font-family: 'Segoe UI', Arial, sans-serif; background:#f5f5f7; margin:0; }

  /* NAVIGATION */
  nav { background:#330000; padding:1rem; }
  .nav-list { display:flex; justify-content:center; gap:1rem; list-style:none; padding:0; margin:0; }
  .nav-list a { color:white; text-decoration:none; font-weight:600; }
  .nav-list a[aria-current="page"] { color:#ffcc00; }

  main { max-width:1300px; margin:0 auto; padding:2rem 1rem; }

  h1 { text-align:center; color:#330000; margin-bottom:0.5rem; font-size:2.3rem; }
  p.intro { text-align:center; color:#555; margin-bottom:2rem; font-size:1.1rem; max-width:900px; margin-left:auto; margin-right:auto; }

  /* FILTER BAR */
  .filters { display:flex; gap:1rem; justify-content:center; flex-wrap:wrap; margin-bottom:2rem; }
  .filters input, .filters select {
    padding:0.6rem; border:1px solid #ccc; border-radius:6px;
    font-size:1rem; min-width:180px; background:white;
  }
  .filters input:focus, .filters select:focus {
    border-color:#330000;
  }

  /* CARDS */
  .eco-grid {
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(320px,1fr));
    gap:1.5rem;
  }
  .eco-card {
    background:white; border-radius:12px; padding:1.5rem;
    box-shadow:0 4px 15px rgba(0,0,0,0.06);
    border-left:6px solid #a00000;
    transition:transform 0.25s ease, box-shadow 0.25s ease;
  }
  .eco-card:hover {
    transform:translateY(-6px);
    box-shadow:0 10px 28px rgba(0,0,0,0.12);
  }
  .eco-card h3 {
    margin-top:0; color:#330000; margin-bottom:0.5rem;
  }
  .eco-card p { margin:0.25rem 0; color:#555; font-size:0.95rem; }

  /* WEBSITE BUTTON */
  .eco-link {
    margin-top:0.6rem;
    display:inline-block;
    padding:0.45rem 0.8rem;
    background:#0066cc; color:white;
    text-decoration:none; border-radius:6px;
    font-size:0.9rem; font-weight:600;
  }
  .eco-link:hover { background:#003366; }

  footer {
    text-align:center; margin-top:3rem; padding:1.3rem;
    border-top:1px solid #ddd; font-size:0.9rem; background:#fafafa;
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>

<!-- NAV -->
<nav>
  <ul class="nav-list">
    <li><a href="index.html">Home</a></li>
    <li><a href="datasets.html">Datasets</a></li>
    <li><a href="use-cases.html">Use Cases</a></li>
    <li><a href="ecosystem.html" aria-current="page">Ecosystem</a></li>
    <li><a href="resources.html">Resources</a></li>
    <li><a href="contact.html">Contact</a></li>
  </ul>
</nav>

<main>
  <h1>üåç African AI Ecosystem Directory</h1>
  <p class="intro">
    Explore Africa‚Äôs growing ecosystem of AI startups, research labs, hubs, and innovation organizations.
    Filter by country, domain, or entity type to discover opportunities and partnerships.
  </p>

  <!-- FILTERS -->
  <div class="filters">
    <input type="text" id="searchInput" placeholder="Search by name‚Ä¶">
    <select id="countryFilter"><option value="">All Countries</option></select>
    <select id="typeFilter"><option value="">All Types</option></select>
    <select id="domainFilter"><option value="">All Domains</option></select>
  </div>

  <!-- OUTPUT GRID -->
  <div id="ecoGrid" class="eco-grid"></div>
</main>

<footer>
  ¬© 2025 Open Data Africa ‚Äì Powered by AI Made in Africa
</footer>

<script>
let ecosystem = [];
const grid = document.getElementById("ecoGrid");
const searchInput = document.getElementById("searchInput");
const countryFilter = document.getElementById("countryFilter");
const typeFilter = document.getElementById("typeFilter");
const domainFilter = document.getElementById("domainFilter");

// LOAD CSV
Papa.parse("datasets/Ecosystem.csv", {
  download: true,
  header: true,
  complete: (res) => {
    ecosystem = res.data.filter(x => x.Name);
    populateFilters();
    render();
  }
});

function populateFilters() {
  const countries = [...new Set(ecosystem.map(e => e.Country).filter(Boolean))].sort();
  const types = [...new Set(ecosystem.map(e => e.Type).filter(Boolean))].sort();
  const domains = [...new Set(ecosystem.map(e => e.Domain).filter(Boolean))].sort();

  countries.forEach(c => countryFilter.innerHTML += `<option value="${c}">${c}</option>`);
  types.forEach(t => typeFilter.innerHTML += `<option value="${t}">${t}</option>`);
  domains.forEach(d => domainFilter.innerHTML += `<option value="${d}">${d}</option>`);
}

function render() {
  const s = searchInput.value.toLowerCase();
  const c = countryFilter.value;
  const t = typeFilter.value;
  const d = domainFilter.value;

  const filtered = ecosystem.filter(e => {
    return (!s || e.Name.toLowerCase().includes(s)) &&
           (!c || e.Country === c) &&
           (!t || e.Type === t) &&
           (!d || e.Domain === d);
  });

  grid.innerHTML = filtered.length ? filtered.map(e => `
    <div class="eco-card">
      <h3>${e.Name}</h3>
      <p><strong>Type:</strong> ${e.Type}</p>
      <p><strong>Domain:</strong> ${e.Domain}</p>
      <p><strong>Country:</strong> ${e.Country}</p>
      <p><strong>Description:</strong> ${e.Description}</p>
      ${e.Website ? `<a href="${e.Website}" target="_blank" class="eco-link">Visit Website</a>` : ""}
    </div>
  `).join("") : `<p style="text-align:center; color:#777;">No results found.</p>`;
}

// Live filtering
searchInput.addEventListener("input", render);
countryFilter.addEventListener("change", render);
typeFilter.addEventListener("change", render);
domainFilter.addEventListener("change", render);
</script>

</body>
</html>
